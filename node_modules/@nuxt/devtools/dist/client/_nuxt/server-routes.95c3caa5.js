import{d as ae,r as A,bl as we,o as t,m as h,k as u,G as L,h as w,f as e,bm as se,t as O,p as N,v as W,a8 as He,a9 as Y,F as D,n as B,a5 as fe,Z as Ge,a as V,w as $e,i as v,j as $,X as Se,_ as me,bn as We,bo as Ve,ax as Je,bp as Ke,bq as Qe,br as Xe,ab as Ze,at as Ye,av as pe,aa as et,ay as tt,e as ot,a1 as Te,l as Z,I as le,as as nt,V as st,A as Re,bs as lt,bt as at,ag as rt,U as it,bu as ut,an as dt}from"./entry.9a5af3dc.js";import{_ as ct}from"./NNavbar.vue.823096f1.js";import{_ as Ue}from"./NBadge.0b42c7f8.js";import{_ as Ne}from"./NSelect.vue.c8c511ae.js";import{_ as pt}from"./NCheckbox.vue.6b5ce38f.js";import{u as De,_ as ft}from"./storage-options.2b389201.js";import{_ as mt}from"./DataSchemaButton.vue.72b202db.js";import{_ as vt}from"./NCodeBlock.vue.c80c8282.js";import{C as xe,S as Ie}from"./constants.2cc6e981.js";import{t as ht}from"./json-editor-vue.c3cbb111.js";import{_ as yt}from"./NSectionBlock.c3646235.js";import{_ as gt}from"./NDrawer.vue.e2617b9c.js";import"./client.b8ca1554.js";import"./NIconTitle.vue.83cd82be.js";const ne=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function _t(s,g){if(typeof s!="string")throw new TypeError("argument str must be a string");const d={},_=(g||{}).decode||xt;let k=0;for(;k<s.length;){const f=s.indexOf("=",k);if(f===-1)break;let b=s.indexOf(";",k);if(b===-1)b=s.length;else if(b<f){k=s.lastIndexOf(";",f-1)+1;continue}const a=s.slice(k,f).trim();if(d[a]===void 0){let c=s.slice(f+1,b).trim();c.codePointAt(0)===34&&(c=c.slice(1,-1)),d[a]=kt(c,_)}k=b+1}return d}function Ce(s,g,d){const n=d||{},_=n.encode||Ct;if(typeof _!="function")throw new TypeError("option encode is invalid");if(!ne.test(s))throw new TypeError("argument name is invalid");const k=_(g);if(k&&!ne.test(k))throw new TypeError("argument val is invalid");let f=s+"="+k;if(n.maxAge!==void 0&&n.maxAge!==null){const b=n.maxAge-0;if(Number.isNaN(b)||!Number.isFinite(b))throw new TypeError("option maxAge is invalid");f+="; Max-Age="+Math.floor(b)}if(n.domain){if(!ne.test(n.domain))throw new TypeError("option domain is invalid");f+="; Domain="+n.domain}if(n.path){if(!ne.test(n.path))throw new TypeError("option path is invalid");f+="; Path="+n.path}if(n.expires){if(!bt(n.expires)||Number.isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");f+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(f+="; HttpOnly"),n.secure&&(f+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":f+="; Priority=Low";break;case"medium":f+="; Priority=Medium";break;case"high":f+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"strict":f+="; SameSite=Strict";break;case"none":f+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return f}function bt(s){return Object.prototype.toString.call(s)==="[object Date]"||s instanceof Date}function kt(s,g){try{return g(s)}catch{return s}}function xt(s){return s.includes("%")?decodeURIComponent(s):s}function Ct(s){return encodeURIComponent(s)}const wt=u("div",{"x-divider":""},null,-1),Ee=ae({__name:"ServerRouteListItem",props:{item:{},index:{default:0}},setup(s){const g=A(!0),d=we();return(n,_)=>{const k=fe,f=Ue,b=Ee;return t(),h("div",null,[u("button",{flex:"~ gap-2","w-full":"","items-start":"","items-center":"","hover-bg-active":"",px2:"",py1:"",class:L([{"bg-active":e(d)===n.item.filepath}]),style:He({paddingLeft:`calc(0.5rem + ${n.index*1.5}em)`}),onClick:_[0]||(_[0]=a=>{g.value=!e(g),d.value=n.item.filepath})},[u("div",{class:L({"w-12":!n.item.routes}),"flex-none":"","text-left":""},[n.item.type==="collection"?(t(),w(k,{key:0,icon:"carbon:chevron-right","mb0.5":"","transform-rotate":e(g)?90:0,transition:""},null,8,["transform-rotate"])):(t(),w(f,{key:1,class:L(("getRequestMethodClass"in n?n.getRequestMethodClass:e(se))(n.item.method||"*")),textContent:O((n.item.method||"*").toUpperCase())},null,8,["class","textContent"]))],2),u("span",{class:L({"flex items-center":n.item.routes}),"text-sm":"","font-mono":""},[n.item.type==="collection"?(t(),w(k,{key:0,title:`${n.item.routes?.length} routes`,icon:"carbon:folder",mr1:""},null,8,["title"])):N("",!0),W(" "+O(n.item.route),1)],2)],6),wt,e(g)?Y(n.$slots,"default",{key:0},()=>[(t(!0),h(D,null,B(n.item.routes,a=>(t(),w(b,{key:a.filepath,item:a,index:n.index+1},null,8,["item","index"]))),128))]):N("",!0)])}}}),$t={p4:"",flex:"~ col gap-4"},St={key:1,ml2:"",flex:""},Vt=["value"],Tt={key:0,flex:"","gap-4":""},Rt=u("div",{"flex-auto":""},null,-1),je=ae({__name:"ServerRouteInputs",props:{modelValue:{},keys:{default:()=>[]},default:{default:()=>({})},disabled:{type:Boolean,default:!1}},setup(s,{emit:g}){const d=s,_=Ge(d,"modelValue",g,{passive:!0}),k=V(()=>[...d.keys,"active","key","value","type"]),f=V(()=>{const c={};for(const l of k.value)c[l]=d.default[l]||"";return c}),b=["string","number","boolean","file","date","time","datetime-local"];function a(c,l){const I=l.target;if(I.files&&I.files[0]){const M=I.files[0],H=new FileReader;H.readAsDataURL(M),H.onload=()=>{_.value[c].value=H.result}}}return $e(()=>_,c=>{c.value.forEach(l=>{if(l.type==="number"&&typeof l.value!="number"){const I=Number.parseFloat(l.value);l.value=Number.isNaN(I)?0:I}else l.type==="boolean"&&typeof l.value!="boolean"?l.value=!0:l.type==="file"&&typeof l.value!="object"?l.value="":l.type==="date"&&typeof l.value=="string"&&!l.value.match(/^\d{4}-\d{2}-\d{2}$/)?l.value=new Date().toISOString().slice(0,10):l.type==="time"&&typeof l.value=="string"&&!l.value.match(/^\d{2}:\d{2}$/)?l.value=new Date().toISOString().slice(11,16):l.type==="datetime-local"&&typeof l.value=="string"&&!l.value.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}$/)?l.value=new Date().toISOString().slice(0,16):l.type==="string"&&(l.value=l.value.toString())})},{deep:!0,immediate:!0,flush:"sync"}),(c,l)=>{const I=pt,M=Se,H=Ne,S=fe,C=me;return t(),h("div",$t,[(t(!0),h(D,null,B(e(_),(i,P)=>(t(),h("div",{key:P,flex:"~ gap-2","justify-around":""},[Y(c.$slots,"input",{item:i}),(t(!0),h(D,null,B(e(k),x=>(t(),h(D,{key:x},[i.type!==null&&x==="active"?(t(),w(I,{key:0,modelValue:i[x],"onUpdate:modelValue":y=>i[x]=y,n:"sm primary",disabled:c.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"])):N("",!0),i.type!==null&&x==="key"?(t(),w(M,{key:1,modelValue:i[x],"onUpdate:modelValue":y=>i[x]=y,placeholder:x,"flex-1":"","font-mono":"",n:"sm primary",disabled:c.disabled,class:L(c.disabled?"op50":"")},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled","class"])):x==="value"?(t(),h(D,{key:2},[i.type==="file"?(t(),w(M,{key:0,type:"file",disabled:c.disabled,class:L(c.disabled?"op75":""),onChange:y=>a(P,y)},null,8,["disabled","class","onChange"])):i.type==="boolean"?(t(),h("div",St,[v(I,{modelValue:i.value,"onUpdate:modelValue":y=>i.value=y,placeholder:"Value",n:"green lg",disabled:c.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"])])):(t(),w(M,{key:2,modelValue:i.value,"onUpdate:modelValue":y=>i.value=y,type:i.type,placeholder:"Value","flex-1":"","font-mono":"",n:"sm primary",disabled:c.disabled,class:L(c.disabled?"op75":"")},null,8,["modelValue","onUpdate:modelValue","type","disabled","class"]))],64)):x==="type"?(t(),w(H,{key:3,modelValue:i.type,"onUpdate:modelValue":y=>i.type=y,n:"sm green",class:L(c.disabled?"op75":""),disabled:c.disabled},{default:$(()=>[(t(),h(D,null,B(b,y=>u("option",{key:y,value:y},O(y),9,Vt)),64))]),_:2},1032,["modelValue","onUpdate:modelValue","class","disabled"])):N("",!0)],64))),128)),Y(c.$slots,"input-actions",{},()=>[v(C,{n:"red",disabled:c.disabled,class:L(c.disabled?"op0!":""),onClick:x=>e(_).splice(P,1)},{default:$(()=>[v(S,{icon:"carbon:trash-can"})]),_:2},1032,["disabled","class","onClick"])])]))),128)),c.disabled?N("",!0):(t(),h("div",Tt,[Y(c.$slots,"actions",{params:e(_)},()=>[v(C,{icon:"carbon-add",n:"sm primary",my1:"","px-3":"",onClick:l[0]||(l[0]=i=>e(_).push({...e(f)}))},{default:$(()=>[W(" Add ")]),_:1}),Rt,e(_).length?(t(),w(C,{key:0,icon:"carbon-trash-can",n:"sm red",my1:"","px-3":"",onClick:l[1]||(l[1]=i=>_.value=[])},{default:$(()=>[W(" Remove All ")]),_:1})):N("",!0)])])),Y(c.$slots,"default")])}}}),Ut={path:"/",watch:!0,decode:s=>Qe(decodeURIComponent(s)),encode:s=>encodeURIComponent(typeof s=="string"?s:JSON.stringify(s))};function Nt(s,g){const d={...Ut,...g},n=Dt(d)||{};let _;d.maxAge!==void 0?_=d.maxAge*1e3:d.expires&&(_=d.expires.getTime()-Date.now());const k=_!==void 0&&_<=0,f=k?void 0:n[s]??d.default?.(),b=_&&!k?jt(f,_):A(f);{const a=typeof BroadcastChannel>"u"?null:new BroadcastChannel(`nuxt:cookies:${s}`),c=()=>{Et(s,b.value,d),a?.postMessage(d.encode(b.value))};let l=!1;We()&&Ve(()=>{l=!0,c(),a?.close()}),a&&(a.onmessage=I=>{l=!0,b.value=d.decode(I.data),Je(()=>{l=!1})}),d.watch?$e(b,()=>{l||c()},{deep:d.watch!=="shallow"}):c()}return b}function Dt(s={}){return _t(document.cookie,s)}function It(s,g,d={}){return g==null?Ce(s,g,{...d,maxAge:-1}):Ce(s,g,d)}function Et(s,g,d={}){document.cookie=It(s,g,d)}function jt(s,g){let d;return Ve(()=>{clearTimeout(d)}),Ke((n,_)=>({get(){return n(),s},set(k){clearTimeout(d),d=setTimeout(()=>{s=void 0,_()},g),s=k,_()}}))}const Ot={"h-full":"","w-full":"",flex:"~ col"},Lt={flex:"~ col gap-2","flex-none":"",p4:"","n-navbar-glass":""},Pt={flex:"~ gap2 items-center"},qt={relative:"","w-full":""},At={absolute:"","right-2":"","top-1.5":"",flex:"~ gap-1"},Bt={flex:"~ gap2 wrap","w-full":"","items-center":"",px4:"",pb2:"","text-center":"","text-sm":"",border:"b base"},Mt=u("div",{"flex-auto":""},null,-1),Ft=u("div",{"text-xs":"",op50:""}," Send from ",-1),zt=u("option",{value:"app"}," App ",-1),Ht=u("option",{value:"devtools"}," DevTools ",-1),Gt={key:0,border:"b base","items-center":"",px4:"",py2:"",grid:"~ cols-[max-content_1fr] gap-2"},Wt={"text-right":"","font-mono":""},Jt={key:1,border:"b base",p4:"",flex:"~ col gap-4","font-mono":""},Kt={flex:"~ gap-4"},Qt={flex:"~ gap2","mb--2":"","items-center":"",op50:""},Xt=u("div",{"w-5":"","x-divider":""},null,-1),Zt=u("div",{"flex-none":""}," Default Inputs ",-1),Yt=u("div",{"x-divider":""},null,-1),eo={key:2},to={key:3,border:"b base",relative:"","n-code-block":""},oo={flex:"~ wrap","w-full":""},no=["onClick"],so=u("div",{border:"b base","flex-auto":""},null,-1),lo={border:"b base",flex:"~ gap2","items-center":"",px4:"",py2:""},ao=u("div",null,"Response",-1),ro={key:1,"text-xs":"",op50:""},io=u("div",{"flex-auto":""},null,-1),uo=u("div",{op50:""}," Request finished in ",-1),co={key:0,"flex-auto":"","overflow-auto":""},po={border:"~ base","h-full":"","w-full":"",rounded:""},fo=["data"],mo={key:2,"flex-auto":"","overflow-auto":"",p4:""},vo={border:"~ base",rounded:""},ho=["src"],yo={key:1,controls:"",rounded:""},go=["src"],_o=ae({__name:"ServerRouteDetails",props:{route:{}},emits:["open-default-input"],setup(s,{emit:g}){const d=s,n=g,[_,k]=Xe(),f=Ze(),b=Ye(),a=pe({contentType:"text/plain",data:"",statusCode:200,error:void 0,fetchTime:0}),c=V(()=>a.contentType.includes("application/json")?"json":a.contentType.includes("text/html")?"html":a.contentType.includes("text/css")?"css":a.contentType.includes("text/javascript")?"javascript":a.contentType.includes("image")||a.contentType.includes("video")?"media":a.contentType.includes("text/xml")||a.contentType.includes("application/xml")?"xml":a.contentType.includes("application/pdf")?"pdf":"text"),l=V(()=>{if(c.value==="json")return JSON.stringify(a.data,null,2);if(c.value==="media"||c.value==="pdf"){const o=new Blob([a.data],{type:a.contentType});return URL.createObjectURL(o)}return a.data}),I=A(!1),M=A(!1),H=et(),S=V(()=>d.route.route?.split(/((?:\*\*)?:[\w_]+)/g)),C=V(()=>S.value?.filter(o=>o.startsWith(":")||o.startsWith("**:"))||[]),i=A(d.route.method||"GET"),P=A({}),x=pe({query:[{active:!0,key:"",value:"",type:"string"}],body:[{active:!0,key:"",value:"",type:"string"}],headers:[{active:!0,key:"Content-Type",value:"application/json",type:"string"}]}),y=A({}),{inputDefaults:R,sendFrom:F}=De("serverRoutes"),j=V(()=>b?.value?.app?.$fetch?F.value:"devtools"),re=["GET","POST","PUT","PATCH","DELETE","HEAD"],ie=["PATCH","POST","PUT","DELETE"],ee=V(()=>ie.includes(i.value.toUpperCase())),q=A(C.value.length?"params":"query"),T=["input","json"],G=A(T[0]),te=V({get:()=>x[q.value],set:o=>{x[q.value]=o}}),ve=V(()=>({...K(R.value.query),...K(x.query)})),he=V(()=>({...K(R.value.headers),...K(x.headers)})),ue=V(()=>ee.value?G.value==="json"?{...K(R.value.body),...y.value}:{...K(R.value.body),...K(x.body)}:void 0),Oe=V(()=>{let o=window?.location.origin;return o.charAt(o.length-1)==="/"&&(o=o.slice(0,-1)),o}),oe=V(()=>{let o=new URLSearchParams(ve.value).toString();o&&(o=`?${o}`);const p=(S.value?.map(E=>(E.startsWith(":")||E.startsWith("**:"))&&P.value[E]||E).join("")||"")+o;let m=f.value?.app.baseURL||"";return(m==="./"||m===".")&&(m=""),m.endsWith("/")&&(m=m.slice(0,-1)),m+p}),ye=V(()=>Oe.value+oe.value);function K(o){const p=Object.fromEntries(o.filter(({active:m,key:E,value:U})=>m&&E&&U!==void 0).map(({key:m,value:E})=>[m,E]));return Object.entries(p).length?p:void 0}async function ge(){M.value=!0,I.value=!0;const o=Date.now(),p=j.value==="app"?b.value.app.$fetch:$fetch;st("server-routes:fetch",{method:i.value,sendFrom:j.value});try{a.data=await p(ye.value,{method:i.value.toUpperCase(),headers:he.value,query:ve.value,body:ue.value,onResponse({response:m}){a.contentType=(m.headers.get("content-type")||"").toString().toLowerCase().trim(),a.statusCode=m.status,a.error=void 0},onResponseError(m){a.error=m.response._data,a.data=m.response._data}})}catch{}I.value=!1,a.fetchTime=Date.now()-o}const _e=V(()=>{const o=[],p=[],m=Object.entries(he.value).filter(([U,z])=>U&&z&&!(U==="Content-Type"&&z==="application/json")).map(([U,z])=>`  '${U}': '${z}'`).join(`,
`);i.value.toUpperCase()!=="GET"&&p.push(`method: '${i.value.toUpperCase()}'`),m&&p.push(`headers: {
${m}
}`),ue.value&&p.push(`body: ${JSON.stringify(ue.value,null,2)}`);const E=p.length?`, {
${p.join(`,
`).split(`
`).map(U=>`  ${U}`).join(`
`)}
}`:"";return o.push({name:"useFetch",lang:"javascript",docs:xe.nuxt.useFetch,code:`const { data, pending, error, refresh } = useFetch('${oe.value}'${E})`}),o.push({name:"$fetch",lang:"javascript",docs:xe.nuxt.$fetch,code:`await $fetch('${oe.value}'${E})`}),o}),Q=A(Pe()),J=pe({key:"",value:""}),Le=V(()=>{const o=[];return C.value.length&&o.push({name:"Params",slug:"params",length:C.value.length}),o.push({name:"Query",slug:"query",length:x.query.length}),ee.value&&o.push({name:"Body",slug:"body",length:x.body.length}),o.push({name:"Headers",slug:"headers",length:x.headers.length}),o.push({name:"Cookies",slug:"cookies",length:Q.value.length}),o.push({name:"Snippets",slug:"snippet"}),o});function Pe(){return document.cookie.split("; ").map(o=>{const[p,m]=o.split("=");return{key:p,value:m}}).filter(o=>o.key)}function de(o,p){if(!o)return;const m=Q.value.find(U=>U.key===o),E=Nt(o);m!==void 0?p===void 0&&(Q.value=Q.value.filter(U=>U.key!==o)):(Q.value.push({key:o,value:p}),J.key="",J.value=""),E.value=p}tt(()=>{G.value==="json"&&typeof y.value=="string"&&(y.value=JSON.parse(y.value))});const qe=ot();return(o,p)=>{const m=me,E=Ne,U=Se,z=fe,be=je,Ae=ft,Be=Re,Me=lt,ce=Ue,Fe=mt,ze=vt,ke=Te("tooltip");return t(),h("div",Ot,[u("div",Lt,[u("div",Pt,[o.route.method?(t(),w(m,{key:0,class:L(["n-badge-base n-sm",("getRequestMethodClass"in o?o.getRequestMethodClass:e(se))(e(i))]),"pointer-events-none":"","font-mono":"",tabindex:"-1"},{default:$(()=>[W(O(e(i).toUpperCase()),1)]),_:1},8,["class"])):(t(),w(E,{key:1,modelValue:e(i),"onUpdate:modelValue":p[0]||(p[0]=r=>Z(i)?i.value=r:null),class:L(["n-badge-base n-sm",("getRequestMethodClass"in o?o.getRequestMethodClass:e(se))(e(i))])},{default:$(()=>[(t(),h(D,null,B(re,r=>u("option",{key:r,class:L(("getRequestMethodClass"in o?o.getRequestMethodClass:e(se))(r))},O(r.toUpperCase()),3)),64))]),_:1},8,["modelValue","class"])),u("div",qt,[v(U,{"model-value":e(oe),readonly:"","flex-auto":"","font-mono":"",p:"x5 y2",n:"sm"},null,8,["model-value"]),u("div",At,[le(v(m,{title:"Copy URL",n:"xs blue",icon:"carbon:copy",border:!1,onClick:p[1]||(p[1]=r=>e(qe)(e(ye),"server-route-url"))},null,512),[[ke,"Copy URL"]]),le(v(m,{title:"Open in Editor",icon:"carbon-launch",n:"xs blue",border:!1,onClick:p[2]||(p[2]=r=>e(H)(o.route.filepath))},null,512),[[ke,"Open in Editor"]])])]),v(m,{"h-full":"",n:"primary solid",onClick:ge},{default:$(()=>[v(z,{icon:"carbon:send"})]),_:1})])]),u("div",Bt,[(t(!0),h(D,null,B(e(Le),r=>(t(),w(m,{key:r.slug,class:L(e(q)===r.slug?"text-primary n-primary":"border-transparent shadow-none"),onClick:X=>q.value=r.slug},{default:$(()=>[v(z,{icon:("ServerRouteTabIcons"in o?o.ServerRouteTabIcons:e(Ie))[r.slug]},null,8,["icon"]),W(" "+O(r.name)+" "+O(r?.length?`(${r.length})`:"")+" ",1),u("span",null,O(e(R)[r.slug]?.length?`(${e(R)[r.slug].length})`:""),1)]),_:2},1032,["class","onClick"]))),128)),Mt,Ft,v(E,{modelValue:e(j),"onUpdate:modelValue":p[3]||(p[3]=r=>Z(j)?j.value=r:null),class:"n-xs",disabled:!e(b)?.app?.$fetch},{default:$(()=>[zt,Ht]),_:1},8,["modelValue","disabled"])]),e(q)==="params"?(t(),h("div",Gt,[(t(!0),h(D,null,B(e(C),r=>(t(),h(D,{key:r},[u("div",Wt,O(r),1),v(U,{modelValue:e(P)[r],"onUpdate:modelValue":X=>e(P)[r]=X,placeholder:r,"flex-1":""},null,8,["modelValue","onUpdate:modelValue","placeholder"])],64))),128))])):N("",!0),e(q)==="cookies"?(t(),h("div",Jt,[(t(!0),h(D,null,B(e(Q),r=>(t(),h("div",{key:r.key,flex:"~ gap-4 items-center"},[v(U,{placeholder:"Key...","model-value":r.key,disabled:"","op-70":""},null,8,["model-value"]),v(U,{placeholder:"Value...","model-value":r.value,"flex-1":"",n:"primary",onInput:X=>de(r.key,X.target?.value)},null,8,["model-value","onInput"]),v(m,{title:"Delete",n:"red",onClick:X=>de(r.key,void 0)},{default:$(()=>[v(z,{icon:"i-carbon-trash-can"})]),_:2},1032,["onClick"])]))),128)),u("div",Kt,[v(U,{modelValue:e(J).key,"onUpdate:modelValue":p[4]||(p[4]=r=>e(J).key=r),placeholder:"Key",n:"primary","flex-1":""},null,8,["modelValue"]),v(U,{modelValue:e(J).value,"onUpdate:modelValue":p[5]||(p[5]=r=>e(J).value=r),placeholder:"Value",n:"primary","flex-1":""},null,8,["modelValue"]),v(m,{title:"Add",n:"primary",onClick:p[6]||(p[6]=r=>de(e(J).key,e(J).value))},{default:$(()=>[v(z,{icon:"i-carbon-save"})]),_:1})])])):N("",!0),v(e(_),null,{default:$(()=>[v(be,{modelValue:e(te),"onUpdate:modelValue":p[9]||(p[9]=r=>Z(te)?te.value=r:null),default:{active:!0,type:"string"},"max-h-xs":"","of-auto":""},{default:$(()=>[e(R)[e(q)]?.length?(t(),h(D,{key:0},[u("div",Qt,[Xt,Zt,v(m,{icon:"i-carbon-edit",border:!1,onClick:p[7]||(p[7]=r=>n("open-default-input"))}),Yt]),v(be,{modelValue:e(R)[e(q)],"onUpdate:modelValue":p[8]||(p[8]=r=>e(R)[e(q)]=r),disabled:"",p0:""},null,8,["modelValue"])],64)):N("",!0)]),_:1},8,["modelValue"])]),_:1}),e(q)==="snippet"?(t(),h("div",eo,[e(_e).length?(t(),w(Ae,{key:0,"code-snippets":e(_e)},null,8,["code-snippets"])):N("",!0)])):e(te)?(t(),h("div",to,[e(q)==="body"?(t(),h(D,{key:0},[u("div",oo,[(t(),h(D,null,B(T,r=>u("button",{key:r,px4:"",py2:"",border:"r base",hover:"bg-active",class:L({"border-b":r!==e(G)}),onClick:X=>G.value=r},[u("div",{class:L({op30:r!==e(G)}),"font-mono":""},O(r),3)],10,no)),64)),so]),e(G)==="input"?(t(),w(e(k),{key:0})):e(G)==="json"?(t(),w(e(ht),nt({key:1,modelValue:e(y),"onUpdate:modelValue":p[10]||(p[10]=r=>Z(y)?y.value=r:null),class:[[o.$colorMode.value==="dark"?"jse-theme-dark":"light"],"json-editor-vue of-auto text-sm outline-none"]},o.$attrs,{mode:"text","navigation-bar":!1,indentation:2,"tab-size":2}),null,16,["modelValue","class"])):N("",!0)],64)):(t(),w(e(k),{key:1}))])):N("",!0),e(M)?e(I)?(t(),w(Me,{key:5,"z-10":"","flex-auto":"","backdrop-blur":""},{default:$(()=>[W(" Fetching... ")]),_:1})):(t(),h(D,{key:6},[u("div",lo,[ao,e(a).error?(t(),w(ce,{key:0,n:"red"},{default:$(()=>[W(" Error ")]),_:1})):N("",!0),v(ce,{n:e(a).error?"orange":"green",textContent:O(e(a).statusCode)},null,8,["n","textContent"]),e(a).contentType?(t(),h("code",ro,O(e(a).contentType),1)):N("",!0),e(a).contentType==="application/json"?(t(),w(Fe,{key:2,getter:()=>({input:e(l)})},null,8,["getter"])):N("",!0),io,uo,v(ce,{n:"green"},{default:$(()=>[W(O(e(a).fetchTime)+" ms ",1)]),_:1})]),e(c)==="pdf"?(t(),h("div",co,[u("div",po,[u("object",{data:e(l),type:"application/pdf","flex-auto":"",width:"100%",height:"100%",rounded:""},null,8,fo)])])):e(c)!=="media"?(t(),w(ze,{key:1,"flex-auto":"","overflow-auto":"","py-2":"",code:e(l),lang:e(c)},null,8,["code","lang"])):(t(),h("div",mo,[u("div",vo,[e(a).contentType.includes("image")?(t(),h("img",{key:0,rounded:"",src:e(l)},null,8,ho)):(t(),h("video",yo,[u("source",{src:e(l),type:"video/mp4"},null,8,go)]))])]))],64)):(t(),w(Be,{key:4},{default:$(()=>[v(m,{n:"primary",onClick:ge},{default:$(()=>[v(z,{icon:"carbon:send"}),W(" Send request ")]),_:1})]),_:1}))])}}}),bo={flex:"~ gap1","text-sm":""},ko={key:0,op50:""},xo={op50:""},Co=u("span",{op75:""},"Select a route to start",-1),wo=u("div",{p4:"",border:"b base"},[u("span",{"text-lg":""},"Default Inputs"),u("br"),u("span",{"text-white":"",op50:""},"Merged as default for every request in DevTools")],-1),qo=ae({__name:"server-routes",setup(s){const g=A(!1),d=at(),n=we(),{selectedRoute:_,view:k,inputDefaults:f}=De("serverRoutes"),b=V(()=>{!n.value&&_.value&&(n.value=_.value.filepath);const S=d.value?.find(C=>C.filepath===n.value);return n.value!==_.value?.filepath&&S&&(_.value=S),S}),a=A(""),c=V(()=>new rt(d.value||[],{keys:["method","route"],shouldSort:!0})),l=V(()=>d.value?a.value?c.value.search(a.value).map(C=>C.item):d.value:[]),I=V(()=>{const S=[],C=(i,P)=>{i.routes=i.routes||[],i.routes.push(P)};return l.value.forEach(i=>{const P=i.filepath.split("/"),x=P.slice(P.indexOf("server")+1);x.length>0&&x[x.length-1].includes(".")&&x.pop();let y=null;if(x.forEach(R=>{const F=y?y.routes?.find(j=>j.route===R):S.find(j=>j.route===R);if(F)y=F;else{const j={route:R,filepath:R.replace(/\W/g,"-").toLowerCase(),type:"collection",routes:[]};y?C(y,j):S.push(j),y=j}}),i.type==="runtime"){const R=S.find(F=>F.route==="runtime");if(R)C(R,i);else{const F={route:"runtime",filepath:"runtime",type:"collection",routes:[i]};S.push(F)}}else y?C(y,i):S.push(i)}),S});function M(){k.value=k.value==="tree"?"list":"tree"}function H(S){return S.charAt(0).toUpperCase()+S.slice(1)}return(S,C)=>{const i=me,P=ct,x=Ee,y=_o,R=dt,F=Re,j=it,re=je,ie=yt,ee=gt,q=Te("tooltip");return t(),h(D,null,[v(j,{"storage-key":"tab-server-routes"},{left:$(()=>[v(P,{search:e(a),"onUpdate:search":C[1]||(C[1]=T=>Z(a)?a.value=T:null),pb2:""},{actions:$(()=>[le(v(i,{"text-lg":"",icon:e(k)==="list"?"i-carbon-list":"i-carbon-tree-view-alt",title:"Toggle view",border:!1,onClick:M},null,8,["icon"]),[[q,"Toggle View"]]),le(v(i,{"text-lg":"",icon:"i-carbon-cics-sit-overrides",title:"Default Inputs",border:!1,onClick:C[0]||(C[0]=T=>g.value=!e(g))},null,512),[[q,"Default Inputs"]])]),default:$(()=>[u("div",bo,[e(a)?(t(),h("span",ko,O(e(l).length)+" matched Â· ",1)):N("",!0),u("span",xo,O(e(d)?.length)+" routes in total",1)])]),_:1},8,["search"]),(t(!0),h(D,null,B(e(k)==="tree"?e(I):e(l),T=>(t(),w(x,{key:T.filepath,item:T},null,8,["item"]))),128))]),right:$(()=>[(t(),w(ut,{max:10},[e(b)?(t(),w(y,{key:e(b).filepath,route:e(b),onOpenDefaultInput:C[2]||(C[2]=T=>g.value=!0)},null,8,["route"])):N("",!0)],1024)),e(b)?N("",!0):(t(),w(F,{key:0},{default:$(()=>[v(R,{px6:"",py2:""},{default:$(()=>[Co]),_:1})]),_:1}))]),_:1}),v(ee,{modelValue:e(g),"onUpdate:modelValue":C[3]||(C[3]=T=>Z(g)?g.value=T:null),"auto-close":"","max-w-xl":"","min-w-xl":"",onClose:C[4]||(C[4]=T=>g.value=!1)},{default:$(()=>[u("div",null,[wo,(t(!0),h(D,null,B(Object.keys(e(f)),T=>(t(),w(ie,{key:T,text:`${H(T)} ${e(f)[T].length?`(${e(f)[T].length})`:""}`,padding:!1,icon:("ServerRouteTabIcons"in S?S.ServerRouteTabIcons:e(Ie))[T]},{default:$(()=>[v(re,{modelValue:e(f)[T],"onUpdate:modelValue":G=>e(f)[T]=G,py0:"",default:{active:!0,type:"string"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["text","icon"]))),128))])]),_:1},8,["modelValue"])],64)}}});export{qo as default};
